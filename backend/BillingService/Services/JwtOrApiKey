[ApiController]
[Route("api/[controller]")]
[Authorize(Policy = "JwtOrApiKey")]
public class OperacoesController : ControllerBase
{
    [HttpPost]
    public async Task<IActionResult> CreateOperacao([FromBody] CreateOperacaoDto dto)
    {
        // O usu√°rio j√° est√° autenticado aqui pelo JwtValidationHandler
        var userId = User.FindFirst(ClaimTypes.NameIdentifier)?.Value;
        var username = User.FindFirst(ClaimTypes.Name)?.Value;
        
        Console.WriteLine($"‚úÖ Usu√°rio autenticado: {username} (ID: {userId})");
        
        // ... sua l√≥gica de neg√≥cio
        return Ok(new { message = "Opera√ß√£o criada com sucesso", user = username });
    }
    
    [HttpGet]
    public async Task<IActionResult> GetOperacoes()
    {
        var userId = User.FindFirst(ClaimTypes.NameIdentifier)?.Value;
        Console.WriteLine($"üìã Buscando opera√ß√µes para usu√°rio: {userId}");
        
        // ... sua l√≥gica de neg√≥cio
        return Ok(new { message = "Opera√ß√µes recuperadas", user = userId });
    }
}